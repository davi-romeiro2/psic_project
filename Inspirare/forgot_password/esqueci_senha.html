<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./esqueci_senha.css">
    <link rel="icon" type="image/png" href="../img/logoI.png" />
    <title>Esqueci minha senha</title>
</head>

<body>

    <div id="customModal">
        <div id="customModalContent">
            <p id="customModalMessage"></p>
            <button id="customModalClose">OK</button>
        </div>
    </div>

    <div id="forgot-password-modal">
        <h2>Esqueci minha senha</h2>
        <form id="forgot-password-form">
            <label for="user-or-email">Nome Completo ou email</label>
            <input type="text" id="user-or-email" placeholder="Digite seu nome completo ou email" required />
            <button type="submit" id="send-email-btn">Enviar email para mudar senha</button>
        </form>

        <form id="verification-code-form" style="display:none;">
            <p>Digite o código de 6 caracteres enviado:</p>
            <div class="code-inputs">
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
                <input type="text" maxlength="1" pattern="[a-zA-Z0-9]" inputmode="text" required />
            </div>
        </form>

        <div id="loading-spinner" style="display:none;">
            <div class="spinner"></div>
        </div>

        <form id="new-password-form" style="display: none;">
            <ul id="password-requirements">
                <li id="req-uppercase">• Pelo menos uma letra maiúscula</li>
                <li id="req-number">• Pelo menos um número</li>
                <li id="req-special">• Pelo menos um caractere especial (@#$%&*)</li>
                <li id="req-length">• Pelo menos 8 caracteres</li>
            </ul>
            <input id="new-password-input" type="password" placeholder="Digite a nova senha" required />
            <button id="update-password-btn">Atualizar senha</button>
        </form>

        <a href="../login/login.html" id="forgot-back-login" class="forgot-password">Voltar ao login</a>
    </div>

    <div id="success-modal" class="modal success-modal" style="display: none;">
        <div class="success-content">
            <svg style="width:50px; height:50px; fill: #3A503D; margin-bottom: 1rem;" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24">
                <path d="M9 16.17l-3.5-3.5L4 14.17l5 5 12-12-1.41-1.42z" />
            </svg>
            <p>Senha alterada com sucesso!</p>
            <button id="success-ok"
                style="margin-top: 1rem; padding: 0.5rem 1.5rem; border:none; border-radius: 6px; background:#BB8991; color:#fff; font-weight:bold; cursor:pointer;">OK</button>
        </div>
    </div>

    <script src="./esqueci_senha.js"></script>


</body>

</html>
